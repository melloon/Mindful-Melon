<!DOCTYPE html>
<html>

<head>
  <link rel="stylesheet" href="button.css">
  <style>
    body {
      width: 700px;
      height: 575px;
      text-align: center;
      background-image: url("Images/GardenBackground.png");
      background-size: cover;
      background-position: center;
      position: relative;
    }

    img {
      margin-top: 40px;
    }

    a {
      text-decoration: none;
    }


    .back-btn {
      width: 40px;
      height: 40px;
      padding: 0;
      border-radius: 50%;
      background-color: #054407;
      color: white;
      border: none;
      cursor: pointer;
      box-shadow: 0 8px 16px 0 rgba(0, 0, 0, 0.6);
      position: absolute;
      top: 20px;
      right: 20px;
      font-size: 1em;
    }

    .back-btn:hover {
      background-color: #45a049;
    }


    /* .waterBtn {
      width: 50px;
      height: 50px;
      padding: 20px;
      border: none;
      border-radius: 12px;
      cursor: pointer;
      box-shadow: 0 8px 16px 0 rgba(0, 0, 0, 0.6);
      top: 20px;  
    } */

    .waterBtn {
      width: 125px;
      height: 125px;
      border: none;
      border-radius: 12px;
      cursor: pointer;
      background-image: url("Images/WaterButton.png");
    
      background-size:contain;
      background-position: center;
      background-repeat: no-repeat;
      position: absolute;
     
      bottom: 20px;
     
      left: 20px;
     
      transition: filter 0.3s;
    }

    .waterBtn:hover {
      filter: brightness(1.2);
    }

    .petBtn {
      width: 125px;
      height: 125px;
      border: none;
      border-radius: 12px;
      cursor: pointer;
      background-image: url("Images/PetButton.png");
      background-size:contain;
      background-position: center;
      background-repeat: no-repeat;
      position: absolute;
      bottom: 20px;
      right: 20px;
      transition: filter 0.3s;
    }

    .petBtn:hover {
      filter: brightness(1.2);
    }

  </style>
</head>

<body>

  <a href="MainMenu.html">
    <button type="button" class="back-btn">Back</button>
  </a>

  <div id="imageContainer">
        <!-- The image will be added here by JavaScript -->
  </div>
  <script>
const studytimeString = localStorage.getItem('savedStudyTime');

let studytime;
if (studytimeString) {
    studytime = parseFloat(studytimeString); 
    time = studytime / tabtimetracker; 
} else {
    studytime = 0; 
}
        time_elsewhere = studytime/tabtimetracker;
        water = false;
         pet = false;
        if (time_elsewhere <= .50){
            melonstate = 0;
            return deadImage;
        }
        else if (time.elsewhere < .70){
            melonstate = 1;
            return semideadImage;
        }
        else if (time.elsewhere < .90){
            melonstate = 2;
            return sickImage;
        }
        else {
            melonstate = 3;
            return healthyImage;
        }


        </script>

  <div id="waterButton" class="waterBtn"></div>
  <button class="waterBtn" id="waterBtn" onclick="water=true;">Water</button>
    <script> 
         
        const waterBtn = document.getElementById("waterBtn");

        function updateButtonState() {
            if (melonstate == 0) { 
                waterBtn.disabled = true;
            } else {
                waterBtn.disabled = false;
            }
        }
        melonstate.eventListener('melonstate', updateButtonState);
        updateButtonState();
    </script>
    <script>    
        if (water == true){
            if (time.elsewhere >= .90){
                return healthywaterImage;
            }
            else if (time.elsewhere > .70){
                return sickwaterImage;
            }
            else if (time.elsewhere > .50){
                return semideadwaterImage;
            }
            
        }
    </script>
  <div id="petButton" class="petBtn"></div>
  <button class= "petButton" id="petBtn" onclick="pet=true;">Pet</button>
    <script> 
         
        const petBtn = document.getElementById("petBtn");

        function updateButtonState() {
            if (melonstate == 0) { 
                petBtn.disabled = true;
            } else {
                petBtn.disabled = false;
            }
        }
        melonstate.eventListener('melonstate', updateButtonState);
        updateButtonState();
    
        if (pet == true){
            if (time >= .90){
                return healthypetImage;
            }
            else if (time.elsewhere > .70){
                return sickpetImage;
            }
            else if (time.elsewhere > .50){
                return semideadpetImage;
            }
        }
         
    </script>
  <script src="buttons.js"></script>

  <script>
      
        const dead = document.createElement('deadimg');
        deadimage.src = 'location';

        deadimage.alt = 'dead melon';
        const container = document.getElementById('imageContainer');
        container.appendChild(deadImage);

        const healthy = document.createElement('healthyimg');
        healthyimage.src = 'location';

        healthyimage.alt = 'healthy melon';
        container.appendChild(healthyImage);
        
        const semideadImage = document.createElement('semideadimg');
        semidead.src = 'location';

        semidead.alt = 'semidead melon';
        container.appendChild(semideadImage);

        const sickImage = document.createElement('sickimg');
        sickimage.src = 'location';

        sickimage.alt = 'sick melon';
        container.appendChild(sickImage);

        const sickpetImage = document.createElement('sickpetimg');
        sickpetimage.src = 'PetSickMelon.png';

        sickpetimage.alt = 'pet sick melon';
        container.appendChild(sickpetImage);

        const semideadpetImage = document.createElement('semideadpetimg');
        semideadpetimage.src = 'location';

        semideadpetimage.alt = 'pet semi dead melon';
        container.appendChild(semideadpetImage);

        const healthypetImage = document.createElement('healthypetimg');
        healthypetimage.src = 'PetHealthyMelon.png';

        healthypetImage.alt = 'pet healthy melon';
        container.appendChild(healthypetImage);

        const semideadwaterImage = document.createElement('semideadwaterimg');
        semideadwatertimage.src = 'location';

        semideadwaterimage.alt = 'water semi dead melon';
        container.appendChild(semideadwaterImage);

         const sickwaterImage = document.createElement('sickwaterimg');
        sickwatertimage.src = 'location';

        sickwaterimage.alt = 'water sick melon';
        container.appendChild(sickwaterImage);

        const healthywaterImage = document.createElement('healthywaterimg');
        healthywatertimage.src = 'location';

        healthywaterimage.alt = 'water healthy melon';
        container.appendChild(healthywaterImage);

    </script>


</body>

</html>